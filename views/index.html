<html>
		<head>
				<meta charset="UTF-8">
				<meta name="viewport" content="width=device-width, initial-scale=1">

				<title>Gates of Trenor</title>
				<script src="static/3rd/b/angular/angular.min.js" ></script>
				<script src="static/3rd/b/handlebars/handlebars.min.js" ></script>
				<script src="static/3rd/b/jquery/dist/jquery.min.js" ></script>
				<script src="static/3rd/b/jquery-ui/jquery-ui.min.js" ></script>
				<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">

				<!-- Pure CSS -->
				<!--[if lte IE 8]>
					<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-old-ie-min.css">
				<![endif]-->
				<!--[if gt IE 8]><!-->
				   <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
				<!--<![endif]-->
				<!-- END Pure Css -->

				<link rel="stylesheet" href="static/styles/master.css">
		</head>
		<body>
		<div class="opponent-zone">
				<p> Opponent zone</p>
				<div class="road-container">
						<div class="pure-g road-grid">
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
						</div>
				</div>
				<div class="battlefield-container">
						<div class="pure-g battlefield-grid">
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
						</div>
				</div>
		</div>
		<div class="player-zone">
				<p> Player zone</p>
				<div class="battlefield-container">
						<div class="pure-g battlefield-grid">
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
								<div class="pure-u-1-5 card-slot"><p>battle</p></div>
						</div>
				</div>
				<div class="road-container">
						<div class="pure-g road-grid">
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
								<div class="pure-u-1-5 card-slot"><p>road</p></div>
						</div>
				</div>
				<div class="hand-container">
						Hand

						<div id="hand-grid-placeholder">
						</div>
				</div>
		</div>

		<script id="hand-card-template" type="text/x-handlebars-template">
{{#list hcl }}
<div class="hand-card card" data-card-id="{{cardId}}">
	<img class="card-img" src="static/images/{{cardId}}.jpg" />
	<div class="card-title" >{{title}}</div>
	<div class="card-stats">{{strength}}/{{speed}}</div>
</div>
{{/list}}
		</script>

		<script type="text/javascript">

			Handlebars.registerHelper('list', function(items, options){
					var count = items.length;
					var out = '<div class="pure-g road-grid">';

					for(var i=0; i<count; i++) {
							out = out + '<div class="pure-u-1 pure-u-md-1-' + count + ' card-slot">';
							out = out + options.fn(items[i]) + '</div>';
					}
					return out + '</div>';
			});

			var source = $("#hand-card-template").html();
			var template = Handlebars.compile(source);
			var handCards = $.get('/deck/card/draw/5', function(data){
					var context = {hcl: data};
					var html = template(context);
					$("#hand-grid-placeholder").html(html);
					$("#hand-grid-placeholder .card").each(function(){
							$(this).click(function(event){
									$("#hand-card-menu").css('display', 'inline-block')
											.position({
    my: "left-6 top-3",
    of: event,
    collision: "fit"
  })
							})
					});
			});
		</script>
		<div id="hand-card-menu" style="display:none; width: 10em; position: absolute;" class="pure-menu">
				<div class="pure-menu-heading">Menu</div>
				<ul class="pure-menu-list">
						<li class="pure-menu-item"><a href="#" class="pure-menu-link">Load up</a></li>
				</ul>
		</div>
		</body>
</html>
